<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Count The Swifts</title>
    <style>
    /* Βασικό στυλ για τη σελίδα */
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
        background-image: url('background.jpg'); /* Εικόνα φόντου */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    h1 {
        color: #333;
    }

    .counter {
        font-size: 2em;
        margin: 20px 0;
    }

    .container {
        display: flex;
        flex-wrap: wrap; /* Επιτρέπει την αλλαγή γραμμής όταν χρειάζεται */
        justify-content: center; /* Κεντρώνει τα κουμπιά οριζόντια */
    }

    .car-button {
        font-size: 1em;
        padding: 10px 20px;
        margin: 10px;
        cursor: pointer;
        border: none;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        width: 100px; /* Ύψος του κουμπιού */
        height: 100px;
    }

    .car-container {
        flex: 1 1 30%; /* Κάνει το κουμπί να καταλαμβάνει περίπου το 30% του πλάτους */
        max-width: 150px; /* Μέγιστο πλάτος των κουμπιών */
        box-sizing: border-box; /* Περιλαμβάνει το padding και το border στο πλάτος */
        margin: 10px; /* Εξωτερική απόσταση γύρω από το κουμπί */
    }

    .actions {
        margin-top: 20px;
    }

    /* Εξασφαλίζει καλύτερη απόδοση σε μικρές οθόνες */
    @media (max-width: 600px) {
        .car-button {
            width: 80px; /* Μικρότερα κουμπιά για μικρότερες οθόνες */
            height: 80px;
        }
    }
</style>
</head>
<body>
    <h1>Count The Swifts</h1>
    <div class="counter" id="pointsCounter">Πόντοι: 0</div>

    <!-- Κουμπιά και εικόνες για διαφορετικά αυτοκίνητα, ταξινομημένα κατά αύξουσα σειρά πόντων -->
    <div class="container">
        <!-- Regular -->
        <div class="car-container">
            <button class="car-button" id="regularButton" onclick="addPoints('regular')"></button>
            <p>Regular (1p)</p>
        </div>
        <!-- Sport -->
        <div class="car-container">
            <button class="car-button" id="sportButton" onclick="addPoints('sport')"></button>
            <p>Sport (2p)</p>
        </div>
        <!-- Rare Colors -->
        <div class="car-container">
            <button class="car-button" id="yellowButton" onclick="addPoints('yellow')"></button>
            <p>Yellow (5p)</p>
        </div>
        <div class="car-container">
            <button class="car-button" id="orangeButton" onclick="addPoints('orange')"></button>
            <p>Orange (6p)</p>
        </div>
        <div class="car-container">
            <button class="car-button" id="greenButton" onclick="addPoints('green')"></button>
            <p>Green (7p)</p>
        </div>
        <div class="car-container">
            <button class="car-button" id="turquoiseButton" onclick="addPoints('turquoise')"></button>
            <p>Turquoise (8p)</p>
        </div>
        <div class="car-container">
            <button class="car-button" id="pinkButton" onclick="addPoints('pink')"></button>
            <p>Pink (10p)</p>
        </div>
        <div class="car-container">
            <button class="car-button" id="brownButton" onclick="addPoints('brown')"></button>
            <p>Brown (15p)</p>
        </div>
        <div class="car-container">
            <button class="car-button" id="purpleButton" onclick="addPoints('purple')"></button>
            <p>Purple (20p)</p>
        </div>
    </div>

    <!-- Κουμπιά δράσης για Undo, Redo, και Erase -->
    <div class="actions">
        <button class="action-button" onclick="undo()">Undo</button>
        <button class="action-button" onclick="redo()">Redo</button>
        <button class="action-button" onclick="erase()">Erase</button>
    </div>

    <script>
        // Αρχικοποίηση πόντων και ιστορικού ενεργειών από το Local Storage
        let points = parseInt(localStorage.getItem('points')) || 0;
        let history = JSON.parse(localStorage.getItem('history')) || [];
        let redoStack = [];

        document.getElementById('pointsCounter').textContent = 'Πόντοι: ' + points;

        function addPoints(carType) {
            let pointsToAdd = 0;

            switch (carType) {
                case 'regular':
                    pointsToAdd = 1;
                    break;
                case 'sport':
                    pointsToAdd = 2;
                    break;
                case 'purple':
                    pointsToAdd = 20;
                    break;
                case 'brown':
                    pointsToAdd = 15;
                    break;
                case 'pink':
                    pointsToAdd = 10;
                    break;
                case 'turquoise':
                    pointsToAdd = 8;
                    break;
                case 'green':
                    pointsToAdd = 7;
                    break;
                case 'orange':
                    pointsToAdd = 6;
                    break;
                case 'yellow':
                    pointsToAdd = 5;
                    break;
            }

            // Προσθέτουμε τους πόντους και ενημερώνουμε το ιστορικό ενεργειών
            points += pointsToAdd;
            history.push(pointsToAdd);
            redoStack = [];
            updateDisplay();
            saveState();
        }

        function undo() {
            if (history.length > 0) {
                const lastPoints = history.pop();
                points -= lastPoints;
                redoStack.push(lastPoints);
                updateDisplay();
                saveState();
            }
        }

        function redo() {
            if (redoStack.length > 0) {
                const redoPoints = redoStack.pop();
                points += redoPoints;
                history.push(redoPoints);
                updateDisplay();
                saveState();
            }
        }

        function erase() {
            points = 0;
            history = [];
            redoStack = [];
            updateDisplay();
            saveState();
        }

        function updateDisplay() {
            document.getElementById('pointsCounter').textContent = 'Πόντοι: ' + points;
        }

        function saveState() {
            localStorage.setItem('points', points);
            localStorage.setItem('history', JSON.stringify(history));
        }

        // Ρυθμίσεις εικόνας για κουμπιά
        const carButtons = {
            'regular': 'url(regular.jpg)',
            'sport': 'url(sport.jpg)',
            'yellow': 'url(yellow.jpg)',
            'orange': 'url(orange.jpg)',
            'green': 'url(green.jpg)',
            'turquoise': 'url(turquoise.jpg)',
            'pink': 'url(pink.jpg)',
            'brown': 'url(brown.jpg)',
            'purple': 'url(purple.jpg)'
        };

        for (const [key, value] of Object.entries(carButtons)) {
            document.getElementById(`${key}Button`).style.backgroundImage = value;
        }
    </script>
</body>
</html>
